<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Undangan Aqiqah</title>
  <!-- Menambahkan Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
 
</head>
<body>
  
  <div class="container">

    <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
    <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">

    <!-- Frame Cover -->
    <div class="frame-cover">
      <div class="isi-konten">
        <div class="transisi-atas-bawah">
          <h1>Tasyakuran<br/>Khitan</h1>
          <div class="nama-anak">Rafasya</div> 
        </div>
        <img src="img/astronout.webp" alt="Gambar Tengah" class="image-3">
        <div class="transisi-bawah-atas">
          <h3>Kepada Yth:</h3>
          <h2 id="tamu-undangan"></h2>
        </div>
        <button id="openInvitation">Buka Undangan</button>
      </div>
      

    </div>

    <!-- Frame 1: Selamat Datang -->
    <div id="frame-1" class="frame">
      <div class="frame-content">
        <img src="img/img-f1.png" alt="Gambar Tengah" class="image-f1">
        <h3><i>Tasyakuran Aqiqah</i></h3><br>
        <div class="nama-anak" style="font-size: 35px; letter-spacing: -2px; color: #ec9a5b;">Rafasya Alhanan</div> 
        <br>
        <p>Anak Kedua dari:</p>
        <h3>Fulan bin Fulan </h3>
        <h3>  & Fulanah binti Fulan</h3>
    
        <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
        <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">
      </div>
    </div>
      

    <!-- Frame 2: Profil -->
    <div id="frame-2" class="frame">
      <div class="frame-content">
        <h2 style="color: #c79570;">Tasyakuran Aqiqah</h2>
        <p>Sabtu, 25 Januari 2025</p>
        <p>Pukul 09.00 WITA</p>
        <p>Rumah kami Ds. Kramat Kec. Tapa</p>
        <p>Komp. Lapangan IPPOT Tapa</p>
        <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
        <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">
      </div>
    </div>
    
      


    <!-- Frame 3: Acara -->
    <div id="frame-3" class="frame">
      <div class=" frame-content">
      <h1>Acara</h1>
      <p>Aqiqah akan diselenggarakan pada:</p>
      <p><strong>Ahad, 10 Desember 2024</strong></p>
      <p>Pukul 10:00 WIB</p>
      <p>Di Kediaman Keluarga Azizah, Jl. Mawar No. 10, Jakarta.</p>
      <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
      <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">
    </div>
    
    </div>
 
    <!-- Frame 4: Ucapan -->
    <div id="frame-4" class="frame">
      <div class=" frame-content">

      <h1>Ucapan</h1>
      <p>Berikan ucapan dan doa terbaik untuk Rafasya melalui kolom di bawah ini:</p>
      <textarea placeholder="Tulis ucapan Anda di sini..." style="width: 80%; height: 80px; margin-top: 10px;"></textarea>
      <button style="margin-top: 10px; padding: 5px 15px; background: #c79570; color: white; border: none; border-radius: 5px;">Kirim</button>
    
      <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
      <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">
      </div>
    </div>

    <!-- Frame 5: Hadiah -->
    <div id="frame-5" class="frame">
      <div class=" frame-content">

      <h1>Hadiah</h1>
      <p>Jika Anda ingin memberikan hadiah, berikut adalah detail rekening kami:</p>
      <p><strong>Bank XYZ</strong></p>
      <p>No. Rekening: 123456789</p>
      <p>Atas Nama: Azizah</p>
      
      <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
      <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">
      </div>
    </div>

    <!-- Frame 6: Galeri Foto (Kolase) -->
    <div class="frame" id="frame6">
      <div class=" frame-content">
      <h1>Galeri Foto</h1>
      <p>Berikut adalah beberapa foto dari acara Aqiqah Rafasya yang ingin kami bagikan dalam bentuk kolase foto.</p>
      <img src="img/frame-tm.webp" alt="Gambar Atas" class="image-1">
      <img src="img/frame-bm.webp" alt="Gambar Bawah" class="image-2">
      </div>
    </div>

    <!-- AUDIO -->
    <div id="audioControl">
      <button id="playPauseAudio">
        <i id="audioIcon" class="bi bi-play-circle"></i>
      </button>
    </div>
    <audio id="backgroundAudio" src="rahmatun-lilalameen-cover-by-mohlaroyim.mp3" loop></audio>
    
  </div>

  <!-- Navigation -->

  <div class="navigation" id="navigation">
    <button aria-label="Home">
        <img src="icon/house-fill.svg" alt="House Icon" class="icon">
    </button>
    <button aria-label="Calendar">
        <img src="icon/calendar-week-fill.svg" alt="Calendar Icon" class="icon">
    </button>
    <button aria-label="Location">
        <img src="icon/geo-alt-fill.svg" alt="Location Icon" class="icon">
    </button>
    <button aria-label="Chat">
        <img src="icon/chat-dots-fill.svg" alt="Chat Icon" class="icon">
    </button>
    <button aria-label="Gift">
        <img src="icon/gift-fill.svg" alt="Gift Icon" class="icon">
    </button>
    <button aria-label="Chat Square">
        <img src="icon/chat-square-quote-fill.svg" alt="Chat Square Icon" class="icon">
    </button>

  <script>
    

    // FUNGSI TAMU UNDANGAN
    const savedRecipientName = localStorage.getItem('kepada');
      if (savedRecipientName) {
        document.getElementById('tamu-undangan').textContent = savedRecipientName;
      }
    const urlParams = new URLSearchParams(window.location.search);
    const recipientName = urlParams.get('kepada');
      if (recipientName) {
        // Simpan nama penerima ke LocalStorage
        localStorage.setItem('kepada', recipientName.replace(/\+/g, ' '));
        // Perbarui tampilan nama di h2
        document.getElementById('tamu-undangan').textContent = recipientName.replace(/\+/g, ' ');
      }

    // FUNGSI TOMBOL BUKA UNDANGAN
    const openInvitation = document.getElementById('openInvitation');
    const frameCover = document.querySelector('.frame-cover');
    const navigation = document.getElementById('navigation');

    openInvitation.addEventListener('click', () => {
      frameCover.classList.add('hidden');
      setTimeout(() => {
        frameCover.style.display = 'none'; // Sembunyikan setelah transisi
        navigation.style.display = 'flex'; // Tampilkan navigasi
        document.getElementById('audioControl').style.display = 'block'; // Tampilkan tombol audio
        document.body.style.overflow = 'auto'; // Aktifkan scroll untuk kontainer
        document.querySelector('.container').style.overflowY = 'auto'; // Tampilkan scroll Y
      }, 800); // Sesuaikan dengan durasi transisi CSS

      frames[0].classList.add('active');
      audio.play(); // Memulai audio otomatis
      audioIcon.classList.remove('bi-play-circle');
      audioIcon.classList.add('bi-pause-circle'); // Ubah ikon ke pause saat audio mulai
    });

    //FUNGSI NAVIGASI
    const navButtons = document.querySelectorAll('.navigation button'); // Tombol navigasi
    const frames = document.querySelectorAll('.frame'); // Semua frame
    navButtons.forEach((btn, index) => {
      btn.addEventListener('click', () => {
        const targetFrame = frames[index];
        targetFrame.scrollIntoView({ behavior: 'smooth' }); // Scroll ke frame yang dituju
      });
    });

    // FUNGSI AUDIO
    const audio = document.getElementById('backgroundAudio');
    const playPauseAudio = document.getElementById('playPauseAudio');
    const audioIcon = document.getElementById('audioIcon');

    // Fungsi untuk toggle play/pause
    playPauseAudio.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        audioIcon.classList.remove('bi-play-circle');
        audioIcon.classList.add('bi-pause-circle');
      } else {
        audio.pause();
        audioIcon.classList.remove('bi-pause-circle');
        audioIcon.classList.add('bi-play-circle');
      }
    });

    //FUNGSI VIDEO
    const video = document.getElementById('profileVideo');
    let isVideoPlaying = false;

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting && !isVideoPlaying) {
            video.play()
              .then(() => {
                isVideoPlaying = true; // Tandai bahwa video sedang diputar
              })
              .catch((error) => {
                console.error("Error playing video:", error);
              });
          } else if (!entry.isIntersecting && isVideoPlaying) {
            video.pause();
            isVideoPlaying = false; // Tandai bahwa video dijeda
          }
        });
      },
      { threshold: 0.5 } // Deteksi frame-2 jika setidaknya 50% terlihat
    );

    // Observasi elemen frame-2
    const frame2 = document.getElementById('frame-2');
    observer.observe(frame2);




  </script>
</body>
</html>
